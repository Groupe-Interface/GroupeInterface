{% extends 'Back/baseBack.html.twig' %}
{% block listeClasse %}
    <ul class="nav child_menu">
        {% for classe in classes %}
            <li><a href="{{ path('enseignant_classe_show', {'id': classe.id}) }}">{{ classe.niveauClasse }}--{{ classe.idSpecialite }}--{{ classe.numClasse }}</a></li>
        {% endfor %}
    </ul>
{% endblock %}
{% block content %}
    <h1>Classe : {{ classe.niveauClasse }}--{{ classe.idSpecialite }}--{{ classe.numClasse }} </h1>
    {% if is_granted ('ROLE_ADMIN') %}
        <div style="width: 100%; display:flex; justify-content: flex-end">
            <a href="{{ path('classe_edit', {'id': classe.id}) }}">
                <button type="button" class="btn-sm shadow-sm btn btn-primary mt-2 mb-2 mr-2">
                    <i class="fa fa-edit"></i>
                </button></a>
            {{ include('Back/classe/_delete_form.html.twig') }}
        </div>
        {% for etudiant in etudiants  %}
            {% if etudiant.classe.id == classe.id %}
                <table class="table">
                    <tbody>
                    <tr>
                        <th>Nom </th>
                        <th> Prenom</th>

                    </tr>
                    <tr>
                        <td>{{ etudiant.nomEtudiant }}</td>
                        <td>{{ etudiant.prenomEtudiant }}</td>
                    </tr>
                    </tbody>
                </table>
            {% endif %}


        {% endfor %}
    {% endif %}
    {% if is_granted ('ROLE_ENSEIGNANT') %}
        {% for seance in seances  %}
            {% if seance.enseignant.id == enseignant.id and seance.classe.id == classe.id %}
             <!--   % id date. %}-->
        <div style="width: 100%; display:flex; justify-content: flex-end">
            <a href="{{ path('enseignant_seance_show', {'id': seance.id}) }}" class="d-none d-sm-inline-block btn btn-sm shadow-sm">
                <button type="button" class="btn btn-dark">
                    <i class="">  </i>  Demarer la seance
                </button>
            </a>
        </div>
                {% endif %}
        {% endfor %}
        <table class="table">
            <tbody>
            {{ include('Back/cours/_form.html.twig') }}
            {% for cour in cours  %}

                {% if cour.idClasse.id == classe.id and cour.matiere.id == matiere.id%}
                    <tr>

                        <th>Nom Cours</th>
                        <td><a href="{{ path('enseignant_cours_show', {'id': cour.id}) }}">{{ cour.nomCours }}</a></td>
                    </tr>
                    <tr>
                        <th>SupportCours</th>
                        <td> <a href="{{ asset('courUpload/' ~ cour.supportCours  )}}" >{{ cour.supportCours }}</a></td>
                        <td>{{ cour.DateCours ? cour.DateCours|date('Y-m-d') : '' }}</td>
                        <td>
                            <div style="width: 100%; display:flex; justify-content: flex-end">
                                <a href="{{ path('cours_edit', {'id': cour.id}) }}">
                                    <button type="button" class="btn-sm shadow-sm btn btn-primary mt-2 mb-2 mr-2">
                                        <i class="fa fa-edit"></i>
                                    </button></a>
                                {{ include('Back/cours/_delete_form.html.twig') }}
                            </div>
                        </td>
                    </tr>

                {% endif %}
            {% endfor %}
            </tbody>
        </table>
    {% endif %}

    <a href="{{ path("admin_classe_index") }}" class="d-none d-sm-inline-block btn btn-sm shadow-sm">
        <button type="button" class="btn btn-dark">
            <i class="fa fa-arrow-circle-left">  </i>  retour
        </button>
    </a>
{% endblock %}
